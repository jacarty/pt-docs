<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Penetration Testing Sales Mastery</title>
    <style>
        /* CSS Reset and Variables */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #0066CC;
            --success-color: #00AA44;
            --warning-color: #FF6600;
            --accent-color: #00CCCC;
            --text-primary: #333;
            --text-secondary: #666;
            --text-light: #999;
            --bg-primary: #FFFFFF;
            --bg-secondary: #F5F5F5;
            --bg-dark: #2C3E50;
            --border-color: #E0E0E0;
            --shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 4px 16px rgba(0, 0, 0, 0.15);
            --transition: all 0.3s ease;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            color: var(--text-primary);
            background-color: var(--bg-secondary);
            line-height: 1.6;
        }

        /* Header Styles */
        .header {
            background-color: var(--bg-primary);
            box-shadow: var(--shadow);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: var(--primary-color);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        /* Progress Bar */
        .progress-container {
            flex: 1;
            max-width: 400px;
            margin: 0 2rem;
        }

        .progress-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }

        .progress-bar {
            height: 8px;
            background-color: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color) 0%, var(--accent-color) 100%);
            border-radius: 4px;
            transition: width 0.5s ease;
            width: 0%;
        }

        /* Timer Display */
        .timer-display {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background-color: var(--bg-secondary);
            border-radius: 8px;
            font-weight: 500;
        }

        /* Main Container */
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 6rem 2rem 2rem;
            min-height: 100vh;
        }

        /* Content Sections */
        .content-section {
            background-color: var(--bg-primary);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 1rem;
            text-align: center;
        }

        .section-subtitle {
            font-size: 1.125rem;
            color: var(--text-secondary);
            text-align: center;
            margin-bottom: 1.5rem;
        }

        /* Video Section */
        .video-container {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow-hover);
        }

        .video-container video {
            width: 100%;
            height: auto;
            display: block;
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        /* Podcast Cards */
        .podcast-card {
            background-color: var(--bg-primary);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            transition: var(--transition);
            text-align: center;
        }

        .podcast-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
            border-color: var(--primary-color);
        }

        .podcast-icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.5rem;
            color: white;
        }

        .podcast-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .podcast-description {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }

        .podcast-controls {
            display: flex;
            gap: 0.75rem;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .audio-player {
            width: 100%;
            margin-bottom: 1rem;
        }

        /* Document Cards */
        .document-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .document-card {
            background-color: var(--bg-primary);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 1.25rem;
            transition: var(--transition);
            text-align: center;
            cursor: pointer;
            text-decoration: none;
        }

        .document-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
            border-color: var(--primary-color);
        }

        .document-icon {
            width: 48px;
            height: 48px;
            background-color: var(--bg-secondary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 0.75rem;
            font-size: 1.25rem;
        }

        .document-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .document-description {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            text-decoration: none;
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #0052A3;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background-color: var(--border-color);
        }

        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
        }

        /* Module Grid */
        .module-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .module-card {
            background-color: var(--bg-primary);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .module-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
        }

        .module-card.completed {
            border: 2px solid var(--success-color);
        }

        .module-card.completed::after {
            content: '✓';
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 32px;
            height: 32px;
            background-color: var(--success-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .module-icon {
            width: 48px;
            height: 48px;
            background-color: var(--bg-secondary);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .module-number {
            position: absolute;
            top: 1rem;
            left: 1rem;
            width: 28px;
            height: 28px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.875rem;
        }

        .module-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .module-description {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }

        .module-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.875rem;
            color: var(--text-light);
        }

        /* Stats Dashboard */
        .stats-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background-color: var(--bg-primary);
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            box-shadow: var(--shadow);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }

        /* Achievement Popup */
        .achievement-popup {
            position: fixed;
            top: 5rem;
            right: 2rem;
            background-color: var(--success-color);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: var(--shadow-hover);
            transform: translateX(400px);
            transition: transform 0.5s ease;
            z-index: 2000;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .achievement-popup.show {
            transform: translateX(0);
        }

        /* Module Content */
        .module-content {
            display: none;
            background-color: var(--bg-primary);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }

        .module-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .close-button {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 4px;
            transition: var(--transition);
        }

        .close-button:hover {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
        }

        /* Navigation Buttons */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
        }

        /* Interactive Elements */
        .driver-card, .persona-card, .compliance-card, .testing-card, .objection-card {
            background-color: var(--bg-primary);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 1rem;
        }

        .driver-card:hover, .persona-card:hover, .compliance-card:hover, .testing-card:hover, .objection-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
            border-color: var(--primary-color);
        }

        .driver-card.active, .persona-card.active, .compliance-card.active, .testing-card.active, .objection-card.active {
            border-color: var(--primary-color);
            background-color: var(--bg-secondary);
        }

        .quiz-option {
            background-color: var(--bg-primary);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.75rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .quiz-option:hover {
            border-color: var(--primary-color);
            transform: translateX(4px);
        }

        .quiz-option.correct {
            border-color: var(--success-color);
            background-color: rgba(0, 170, 68, 0.05);
        }

        .quiz-option.incorrect {
            border-color: #dc3545;
            background-color: rgba(220, 53, 69, 0.05);
        }

        .quiz-progress-container {
            background-color: var(--border-color);
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
            margin: 1.5rem 0;
        }

        .quiz-progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color) 0%, var(--accent-color) 100%);
            transition: width 0.5s ease;
            width: 0%;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-container {
                padding: 6rem 1rem 2rem;
            }

            .header-content {
                padding: 1rem;
            }

            .progress-container {
                margin: 0 1rem;
                max-width: 200px;
            }

            .content-grid {
                grid-template-columns: 1fr;
            }

            .document-grid {
                grid-template-columns: 1fr;
            }

            .podcast-controls {
                flex-direction: column;
                gap: 0.5rem;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        /* Footer */
        .footer {
            background-color: var(--bg-primary);
            border-top: 1px solid var(--border-color);
            padding: 2rem 0;
            margin-top: 4rem;
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }
        .disclaimer {
            background-color: rgba(255, 243, 205, 0.6);
            border: 1px solid #ffeeba;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            font-size: 0.875rem;
            color: #856404;
        }

        .disclaimer strong {
            color: #533f03;
        }
        .overview {
            background-color: rgba(204, 229, 255, 0.6); /* Light translucent blue */
            border: 1px solid #b8daff; /* Soft blue border */
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            font-size: 0.875rem;
            color: #004085; /* Deep blue text for legibility */
        }

        .overview strong {
            color: #002752; /* Even deeper tone for emphasis */
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">🎯</div>
                <span>PenTest Sales Mastery</span>
            </div>
            
            <div class="progress-container">
                <div class="progress-label">Overall Progress</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar"></div>
                </div>
            </div>
            
            <div class="timer-display">
                <span>⏱️</span>
                <span id="timerDisplay">00:00</span>
            </div>
        </div>
    </header>

    <!-- Achievement Popup -->
    <div class="achievement-popup" id="achievementPopup">
        <span style="font-size: 1.5rem;">🏆</span>
        <div>
            <div id="achievementTitle">Achievement Unlocked!</div>
            <div id="achievementDescription" style="font-size: 0.875rem; opacity: 0.9;"></div>
        </div>
    </div>

    <!-- Main Container -->
    <main class="main-container">
        <!-- Course Overview -->
        <div class="content-section" id="courseOverview">
            <div class="disclaimer">
                <strong>Important Notice:</strong> All content in this course has been generated using artificial intelligence to provide general insights on penetration testing strategies. This material is intended for educational purposes and you should apply your own discernment around accuracy - the research paper contains citations. </a>
            </div>
            <div class="overview">
                <strong>Overview:</strong> The page and corresponding content was created to validate a concept around enablement; specifically to take a topic that is adjacent in the industry, but not part of the businesses GTM platform, and build a capability to educate people for broader industry knowledge. <br>
                Ultimately, it's the start of a framework, and the topics could be rotated monthly. <br>
                To understand more about how the content was created you can review the Readme in the repository at <a href="https://github.com/jacarty/pt-docs" target="_blank" style="color: #533f03; text-decoration: underline;">https://github.com/jacarty/pt-docs</a>.
            </div>
            <h1 class="section-title">Penetration Testing Sales Mastery Course</h1>
            <p class="section-subtitle">
                Master the art of selling penetration testing services through comprehensive training materials, 
                real-world scenarios, and proven frameworks that turn security conversations into revenue opportunities.
            </p>
        </div>

        <!-- Video Section -->
        <div class="content-section" id="videoSection">
            <h2 class="section-title">📹 Course Overview Video</h2>
            <p class="section-subtitle">
                Get oriented with this comprehensive overview of penetration testing fundamentals and what you'll learn in this course. If you prefer something to listen to keep scrolling for podcasts.
            </p>
            
            <div class="video-container">
                <video controls preload="metadata">
                    <source src="Penetration-Testing-Video.mp4" type="video/mp4">
                    Your browser does not support the video tag. Please <a href="Penetration-Testing-Video.mp4" download>download the video</a> to watch it.
                </video>
            </div>
        </div>

        <!-- Transition Text -->


        <!-- Podcast Section -->
        <div class="content-section" id="podcastSection">
            <h2 class="section-title">🎧 Expert Podcast Discussions</h2>
            <p class="section-subtitle">
                Prefer something on the move? Jump into our expert podcast discussions to enhance your understanding before taking the assessment.
            </p>

            <div class="content-grid">
                <div class="podcast-card">
                    <div class="podcast-icon">🎙️</div>
                    <h3 class="podcast-title">Penetration Testing Fundamentals</h3>
                    <p class="podcast-description">
                        Comprehensive deep-dive exploring the technical foundations of penetration testing, methodologies, and how to communicate complex security concepts to business stakeholders effectively.
                    </p>
                    <audio controls class="audio-player" preload="metadata">
                        <source src="Penetration-Testing-Medium-Conversation.wav" type="audio/wav">
                        Your browser does not support the audio element.
                    </audio>
                    <div class="podcast-controls">
                        <a href="Penetration-Testing-Medium-Conversation.wav" download class="btn btn-secondary btn-small">
                            📥 Download
                        </a>
                    </div>
                </div>

                <div class="podcast-card">
                    <div class="podcast-icon">💼</div>
                    <h3 class="podcast-title">Quick Summary: Key Takeaways</h3>
                    <p class="podcast-description">
                        Concise overview covering the essential points about penetration testing fundamentals and sales strategies - perfect for a quick refresher or when you're short on time.
                    </p>
                    <audio controls class="audio-player" preload="metadata">
                        <source src="Penetration-Testing-Short-Convesation.wav" type="audio/wav">
                        Your browser does not support the audio element.
                    </audio>
                    <div class="podcast-controls">
                        <a href="Penetration-Testing-Short-Convesation.wav" download class="btn btn-secondary btn-small">
                            📥 Download
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Documentation Section -->
        <div class="content-section" id="documentationSection">
            <h2 class="section-title">📚 Essential Documentation</h2>
            <p class="section-subtitle">Download these comprehensive resources to support your penetration testing sales efforts</p>
            
            <div class="document-grid">
                <a href="research-pack-complete.pdf" download class="document-card">
                    <div class="document-icon">📊</div>
                    <h4 class="document-title">Complete Research Pack</h4>
                    <p class="document-description">
                        Comprehensive market data, industry statistics, breach costs, and compliance requirements to support your sales conversations.
                    </p>
                    <div class="btn btn-primary btn-small">📥 Download PDF</div>
                </a>

                <a href="executive-summary.pdf" download class="document-card">
                    <div class="document-icon">📈</div>
                    <h4 class="document-title">Executive Summary</h4>
                    <p class="document-description">
                        High-level overview perfect for sharing with leadership teams, focusing on business impact and strategic value of penetration testing.
                    </p>
                    <div class="btn btn-primary btn-small">📥 Download PDF</div>
                </a>

                <a href="ae-cheatsheet.pdf" download class="document-card">
                    <div class="document-icon">🎯</div>
                    <h4 class="document-title">AE Cheatsheet</h4>
                    <p class="document-description">
                        Quick-reference guide with key talking points, objection responses, and closing techniques specifically for account executives.
                    </p>
                    <div class="btn btn-primary btn-small">📥 Download PDF</div>
                </a>

                <a href="se-cheatsheet.pdf" download class="document-card">
                    <div class="document-icon">🔧</div>
                    <h4 class="document-title">SE Cheatsheet</h4>
                    <p class="document-description">
                        Technical talking points, demo scenarios, and technical objection handling that are specifically designed for sales engineers.
                    </p>
                    <div class="btn btn-primary btn-small">📥 Download PDF</div>
                </a>
            </div>
        </div>

        <!-- Quiz Introduction -->
        <div class="content-section" id="quizIntro">
            <h2 class="section-title">🧠 Test Your Knowledge</h2>
            <p style="text-align: center; font-size: 1.125rem; color: var(--text-secondary); margin: 0;">
                Ready to put your learning into practice? Take our comprehensive assessment to validate your penetration testing sales expertise and identify areas for continued growth.
            </p>
        </div>

        <!-- Stats Dashboard -->
        <div class="stats-dashboard" id="statsDashboard">
            <div class="stat-card">
                <div class="stat-value" id="modulesCompleted">0/6</div>
                <div class="stat-label">Modules Completed</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalTime">0m</div>
                <div class="stat-label">Total Time</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="accuracyRate">0%</div>
                <div class="stat-label">Accuracy Rate</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="badgesEarned">0</div>
                <div class="stat-label">Badges Earned</div>
            </div>
        </div>

        <!-- Module Selection -->
        <div id="moduleSelection">
            <h1 style="text-align: center; margin-bottom: 2rem; color: var(--primary-color);">Choose Your Learning Module</h1>
            
            <div class="module-grid">
                <!-- Module 1: Business Value -->
                <div class="module-card" onclick="startModule(1)">
                    <div class="module-number">1</div>
                    <div class="module-icon">💰</div>
                    <h3 class="module-title">Business Value Mastery</h3>
                    <p class="module-description">Master ROI conversations and articulate the £4.88M breach cost story that closes deals</p>
                    <div class="module-meta">
                        <span>⏱️ 8 minutes</span>
                        <span id="status-1">Not Started</span>
                    </div>
                </div>

                <!-- Module 2: Buyer Personas -->
                <div class="module-card" onclick="startModule(2)">
                    <div class="module-number">2</div>
                    <div class="module-icon">👥</div>
                    <h3 class="module-title">Buyer Persona Navigator</h3>
                    <p class="module-description">Tailor your penetration testing pitch to CISOs, Compliance Officers, IT Directors, and CFOs</p>
                    <div class="module-meta">
                        <span>⏱️ 8 minutes</span>
                        <span id="status-2">Not Started</span>
                    </div>
                </div>

                <!-- Module 3: Compliance -->
                <div class="module-card" onclick="startModule(3)">
                    <div class="module-number">3</div>
                    <div class="module-icon">📋</div>
                    <h3 class="module-title">Compliance Compass</h3>
                    <p class="module-description">Navigate PCI-DSS, GDPR, HIPAA requirements and turn compliance into urgency</p>
                    <div class="module-meta">
                        <span>⏱️ 8 minutes</span>
                        <span id="status-3">Not Started</span>
                    </div>
                </div>

                <!-- Module 4: Technical -->
                <div class="module-card" onclick="startModule(4)">
                    <div class="module-number">4</div>
                    <div class="module-icon">🔍</div>
                    <h3 class="module-title">Technical Translator</h3>
                    <p class="module-description">Convert OWASP Top 10 and testing types into business impact stories</p>
                    <div class="module-meta">
                        <span>⏱️ 8 minutes</span>
                        <span id="status-4">Not Started</span>
                    </div>
                </div>

                <!-- Module 5: Objections -->
                <div class="module-card" onclick="startModule(5)">
                    <div class="module-number">5</div>
                    <div class="module-icon">🛡️</div>
                    <h3 class="module-title">Objection Eliminator</h3>
                    <p class="module-description">Turn "too expensive" and "no time" into "can't afford not to"</p>
                    <div class="module-meta">
                        <span>⏱️ 8 minutes</span>
                        <span id="status-5">Not Started</span>
                    </div>
                </div>

                <!-- Module 6: Summary -->
                <div class="module-card" onclick="startModule(6)">
                    <div class="module-number">6</div>
                    <div class="module-icon">📝</div>
                    <h3 class="module-title">Course Summary</h3>
                    <p class="module-description">Review key learnings and plan your implementation strategy</p>
                    <div class="module-meta">
                        <span>⏱️ 5 minutes</span>
                        <span id="status-6">Not Started</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Module Content Area -->
        <div class="module-content" id="moduleContent">
            <div class="module-header">
                <h2 id="moduleTitle">
                    <span id="moduleTitleIcon">💰</span>
                    <span id="moduleTitleText">Module Title</span>
                </h2>
                <button class="close-button" onclick="closeModule()">✕</button>
            </div>
            
            <div id="moduleContentArea">
                <!-- Dynamic content will be loaded here -->
            </div>
            
            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="previousSection()" id="prevBtn">
                    <span>←</span> Previous
                </button>
                <button class="btn btn-primary" onclick="nextSection()" id="nextBtn">
                    Next <span>→</span>
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <p>© 2025 James Carty</p>
    </footer>

    <script>
        // Global State Management
        const appState = {
            currentModule: null,
            currentSection: 0,
            modules: {
                1: { title: 'Business Value Mastery', icon: '💰', completed: false, score: 0, time: 0 },
                2: { title: 'Buyer Persona Navigator', icon: '👥', completed: false, score: 0, time: 0 },
                3: { title: 'Compliance Compass', icon: '📋', completed: false, score: 0, time: 0 },
                4: { title: 'Technical Translator', icon: '🔍', completed: false, score: 0, time: 0 },
                5: { title: 'Objection Eliminator', icon: '🛡️', completed: false, score: 0, time: 0 },
                6: { title: 'Course Summary', icon: '📝', completed: false, score: 0, time: 0 }
            },
            totalTime: 0,
            badges: [],
            startTime: null,
            quizMode: false,
            currentQuizIndex: 0,
            quizScore: 0
        };

        // Load saved state from memory (localStorage not supported in Claude artifacts)
        function loadState() {
            updateUI();
        }

        // Save state to memory (localStorage not supported in Claude artifacts)
        function saveState() {
            // In a real implementation, this would save to localStorage
            // For Claude artifacts, state is only maintained in memory during the session
        }

        // Update UI based on current state
        function updateUI() {
            // Update progress bar
            const completedModules = Object.values(appState.modules).filter(m => m.completed).length;
            const progressPercentage = (completedModules / 6) * 100;
            document.getElementById('progressBar').style.width = `${progressPercentage}%`;
            
            // Update stats
            document.getElementById('modulesCompleted').textContent = `${completedModules}/6`;
            document.getElementById('totalTime').textContent = `${Math.floor(appState.totalTime / 60)}m`;
            document.getElementById('badgesEarned').textContent = appState.badges.length;
            
            // Calculate accuracy
            const scores = Object.values(appState.modules).filter(m => m.score > 0);
            const avgAccuracy = scores.length > 0 
                ? Math.round(scores.reduce((sum, m) => sum + m.score, 0) / scores.length)
                : 0;
            document.getElementById('accuracyRate').textContent = `${avgAccuracy}%`;
            
            // Update module cards
            Object.keys(appState.modules).forEach(moduleId => {
                const module = appState.modules[moduleId];
                const statusElement = document.getElementById(`status-${moduleId}`);
                const cardElement = document.querySelector(`.module-card:nth-child(${moduleId})`);
                
                if (statusElement) {
                    if (module.completed) {
                        statusElement.textContent = 'Completed';
                        statusElement.style.color = 'var(--success-color)';
                        if (cardElement) cardElement.classList.add('completed');
                    } else if (module.score > 0) {
                        statusElement.textContent = 'In Progress';
                        statusElement.style.color = 'var(--warning-color)';
                    }
                }
            });
        }

        // Timer functionality
        let timerInterval;
        function startTimer() {
            appState.startTime = Date.now();
            timerInterval = setInterval(() => {
                const elapsed = Math.floor((Date.now() - appState.startTime) / 1000);
                const minutes = Math.floor(elapsed / 60);
                const seconds = elapsed % 60;
                document.getElementById('timerDisplay').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                const elapsed = Math.floor((Date.now() - appState.startTime) / 1000);
                if (appState.currentModule) {
                    appState.modules[appState.currentModule].time += elapsed;
                    appState.totalTime += elapsed;
                    saveState();
                }
            }
        }

        // Module navigation
        function startModule(moduleId) {
            appState.currentModule = moduleId;
            appState.currentSection = 0;
            appState.quizMode = false;
            appState.currentQuizIndex = 0;
            appState.quizScore = 0;
            
            // Hide non-module content
            document.getElementById('courseOverview').style.display = 'none';
            document.getElementById('videoSection').style.display = 'none';
            document.getElementById('podcastSection').style.display = 'none';
            document.getElementById('documentationSection').style.display = 'none';
            document.getElementById('quizIntro').style.display = 'none';
            
            // Hide module selection, show content
            document.getElementById('moduleSelection').style.display = 'none';
            document.getElementById('statsDashboard').style.display = 'none';
            document.getElementById('moduleContent').classList.add('active');
            
            // Update module header
            const module = appState.modules[moduleId];
            document.getElementById('moduleTitleIcon').textContent = module.icon;
            document.getElementById('moduleTitleText').textContent = module.title;
            
            // Load module content
            loadModuleContent(moduleId);
            
            // Start timer
            startTimer();
        }

        function closeModule() {
            stopTimer();
            
            // Show all sections again
            document.getElementById('courseOverview').style.display = 'block';
            document.getElementById('videoSection').style.display = 'block';
            document.getElementById('podcastSection').style.display = 'block';
            document.getElementById('documentationSection').style.display = 'block';
            document.getElementById('quizIntro').style.display = 'block';
            
            // Show module selection, hide content
            document.getElementById('moduleSelection').style.display = 'block';
            document.getElementById('statsDashboard').style.display = 'grid';
            document.getElementById('moduleContent').classList.remove('active');
            
            appState.currentModule = null;
            updateUI();
        }

        // Module content definitions
        const moduleData = {
            1: {
                title: 'Business Value Mastery',
                sections: [
                    {
                        title: 'The £4.88 Million Question',
                        content: `
                            <div style="max-width: 800px; margin: 0 auto; text-align: center;">
                                <h3 style="font-size: 2rem; color: var(--primary-color); margin-bottom: 1.5rem;">The £4.88 Million Question</h3>
                                <p style="font-size: 1.125rem; line-height: 1.8; margin-bottom: 1rem;">What if I told you that a single security breach costs UK businesses an average of <strong>£4.53 million</strong>?</p>
                                <p style="font-size: 1.125rem; line-height: 1.8; margin-bottom: 1rem;">And that <strong>74% of large UK businesses</strong> experienced a breach last year?</p>
                                <p style="font-size: 1.125rem; line-height: 1.8; margin-bottom: 2rem;">In the next 8 minutes, you'll master how to turn these statistics into compelling conversations that close deals.</p>
                                <div style="background-color: var(--bg-secondary); border-left: 4px solid var(--primary-color); padding: 1.5rem; margin: 2rem 0; display: flex; align-items: center; gap: 1rem; border-radius: 8px;">
                                    <div style="font-size: 2rem;">💡</div>
                                    <div style="text-align: left;">
                                        <strong>Your Goal:</strong> Transform security from a "nice-to-have" into a "must-have-now" business imperative.
                                    </div>
                                </div>
                            </div>
                        `
                    },
                    {
                        title: 'The 5 Business Drivers',
                        content: `
                            <div style="max-width: 1000px; margin: 0 auto;">
                                <h3 style="text-align: center; margin-bottom: 1rem;">Master the R.I.S.K.+ Framework</h3>
                                <p style="text-align: center; margin-bottom: 2rem;">Click each driver to understand how to position it:</p>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                                    <div class="driver-card" onclick="toggleDriverCard(this, 'risk')">
                                        <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">🎯</div>
                                        <h4 style="margin-bottom: 0.5rem;">Risk Management</h4>
                                        <div id="risk-content" style="display: none; margin-top: 1rem; font-size: 0.875rem; color: var(--text-secondary);">
                                            <p><strong>Pitch:</strong> "Penetration testing identifies vulnerabilities before criminals do."</p>
                                            <p><strong>Stat:</strong> Attackers exploit vulnerabilities within 5 days of discovery (vs 63 days in 2018)</p>
                                            <p><strong>Impact:</strong> Proactive testing costs £500 per fix vs £500,000+ post-breach</p>
                                        </div>
                                    </div>
                                    <div class="driver-card" onclick="toggleDriverCard(this, 'compliance')">
                                        <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">📋</div>
                                        <h4 style="margin-bottom: 0.5rem;">Regulatory Compliance</h4>
                                        <div id="compliance-content" style="display: none; margin-top: 1rem; font-size: 0.875rem; color: var(--text-secondary);">
                                            <p><strong>Pitch:</strong> "Avoid fines and demonstrate due diligence to regulators."</p>
                                            <p><strong>Stat:</strong> GDPR fines up to £17.5M or 4% of global turnover</p>
                                            <p><strong>Examples:</strong> BA fined £20M, Marriott £18.4M for data breaches</p>
                                        </div>
                                    </div>
                                    <div class="driver-card" onclick="toggleDriverCard(this, 'trust')">
                                        <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">🤝</div>
                                        <h4 style="margin-bottom: 0.5rem;">Customer Trust</h4>
                                        <div id="trust-content" style="display: none; margin-top: 1rem; font-size: 0.875rem; color: var(--text-secondary);">
                                            <p><strong>Pitch:</strong> "Security assessments are increasingly required before signing B2B contracts."</p>
                                            <p><strong>Stat:</strong> 43% customer loss after a breach</p>
                                            <p><strong>Impact:</strong> Strong security = competitive advantage</p>
                                        </div>
                                    </div>
                                    <div class="driver-card" onclick="toggleDriverCard(this, 'cost')">
                                        <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">💰</div>
                                        <h4 style="margin-bottom: 0.5rem;">Cost Savings</h4>
                                        <div id="cost-content" style="display: none; margin-top: 1rem; font-size: 0.875rem; color: var(--text-secondary);">
                                            <p><strong>Pitch:</strong> "A £50k test prevents a £4.88M breach = 9,660% ROI"</p>
                                            <p><strong>Stat:</strong> Average breach costs £4.53M in UK</p>
                                            <p><strong>Insurance:</strong> 15-25% premium reductions with regular testing</p>
                                        </div>
                                    </div>
                                    <div class="driver-card" onclick="toggleDriverCard(this, 'competitive')">
                                        <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">🚀</div>
                                        <h4 style="margin-bottom: 0.5rem;">Competitive Edge</h4>
                                        <div id="competitive-content" style="display: none; margin-top: 1rem; font-size: 0.875rem; color: var(--text-secondary);">
                                            <p><strong>Pitch:</strong> "Turn security into a business enabler, not a cost center."</p>
                                            <p><strong>Benefit:</strong> Win enterprise contracts requiring security validation</p>
                                            <p><strong>Reality:</strong> Security-mature companies grow 2.4x faster</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `
                    }
                ],
                quiz: [
                    {
                        question: "A prospect in financial services says they're worried about operational disruption. What's your response?",
                        options: [
                            "Penetration testing is completely non-disruptive",
                            "95% of tests have zero business impact. We use controlled approaches and can test during off-hours",
                            "The disruption is worth the security benefits",
                            "We can skip the risky tests"
                        ],
                        correct: 1,
                        explanation: "Acknowledge the concern while providing data. 95% of tests cause no disruption, and controlled approaches ensure business continuity."
                    },
                    {
                        question: "What's the average cost of a data breach for UK businesses?",
                        options: [
                            "£1.2 million",
                            "£2.8 million", 
                            "£4.53 million",
                            "£6.7 million"
                        ],
                        correct: 2,
                        explanation: "£4.53 million is the UK average, with the global average at £4.88 million. This creates compelling ROI for testing investments."
                    },
                    {
                        question: "What percentage of large UK businesses experienced breaches in 2024?",
                        options: [
                            "43%",
                            "58%",
                            "74%",
                            "91%"
                        ],
                        correct: 2,
                        explanation: "74% of large UK businesses experienced breaches in 2024, making security a critical business imperative rather than optional investment."
                    },
                    {
                        question: "How quickly do modern attackers exploit vulnerabilities compared to 2018-2019?",
                        options: [
                            "Within 30 days (vs 120 days)",
                            "Within 15 days (vs 90 days)",
                            "Within 5 days (vs 63 days)",
                            "Within 2 days (vs 45 days)"
                        ],
                        correct: 2,
                        explanation: "Time-to-exploit has compressed dramatically - attackers now weaponize vulnerabilities within 5 days compared to 63 days in 2018-2019, creating urgency for proactive testing."
                    },
                    {
                        question: "What percentage of breaches involve the human element?",
                        options: [
                            "45%",
                            "58%",
                            "67%",
                            "74%"
                        ],
                        correct: 3,
                        explanation: "74% of breaches involve human elements, highlighting the importance of social engineering testing alongside technical assessments."
                    },
                    {
                        question: "Which industry experiences the highest average breach costs?",
                        options: [
                            "Retail - £3.2 million",
                            "Financial Services - £5.9 million",
                            "Healthcare - £9.77 million",
                            "Manufacturing - £4.1 million"
                        ],
                        correct: 2,
                        explanation: "Healthcare faces the highest breach costs at £9.77 million due to sensitive patient data, regulatory requirements, and operational impact."
                    },
                    {
                        question: "What percentage of cyber attacks originate from inside the organization?",
                        options: [
                            "15%",
                            "25%",
                            "35%",
                            "49%"
                        ],
                        correct: 3,
                        explanation: "49% of cyber attacks originate internally, making internal penetration testing essential for comprehensive security validation."
                    }
                ]
            },
            2: {
                title: 'Buyer Persona Navigator',
                sections: [
                    {
                        title: 'Know Your Buyer, Win the Deal',
                        content: `
                            <div style="max-width: 800px; margin: 0 auto; text-align: center;">
                                <h3 style="font-size: 2rem; color: var(--primary-color); margin-bottom: 1.5rem;">One Size Doesn't Fit All</h3>
                                <p style="font-size: 1.125rem; line-height: 1.8;">A CISO cares about <strong>risk reduction</strong>. A CFO focuses on <strong>financial impact</strong>. A Compliance Officer needs <strong>audit evidence</strong>.</p>
                                <p style="font-size: 1.125rem; line-height: 1.8; margin-bottom: 2rem;">Master how to tailor your penetration testing conversation to each key decision maker.</p>
                                <div style="background-color: var(--bg-secondary); border-left: 4px solid var(--primary-color); padding: 1.5rem; margin: 2rem 0; display: flex; align-items: center; gap: 1rem; border-radius: 8px;">
                                    <div style="font-size: 2rem;">🎯</div>
                                    <div style="text-align: left;">
                                        <strong>Your Goal:</strong> Match the right message to the right buyer for maximum impact.
                                    </div>
                                </div>
                            </div>
                        `
                    },
                    {
                        title: 'The 4 Key Buyer Personas',
                        content: `
                            <div style="max-width: 1200px; margin: 0 auto;">
                                <h3 style="text-align: center; margin-bottom: 1rem;">Meet Your Buyers</h3>
                                <p style="text-align: center; margin-bottom: 2rem;">Click each persona to understand their motivations and pain points:</p>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
                                    <div class="persona-card" onclick="togglePersonaCard(this, 'ciso')">
                                        <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">🛡️</div>
                                        <h4>CISO / Security Leader</h4>
                                        <p style="font-size: 0.875rem; color: var(--text-secondary); margin-top: 0.5rem;">
                                            Risk visibility, governance, and board-level security reporting
                                        </p>
                                        <div id="ciso-content" style="display: none; margin-top: 1rem; font-size: 0.875rem; color: var(--text-secondary);">
                                            <div style="margin-bottom: 1rem;">
                                                <strong style="color: var(--primary-color);">Primary Motivations:</strong>
                                                <ul style="margin: 0.5rem 0; padding-left: 1rem;">
                                                    <li>Demonstrating security ROI to the board</li>
                                                    <li>Risk visibility and governance</li>
                                                    <li>Validating security control effectiveness</li>
                                                    <li>Enabling secure business innovation</li>
                                                </ul>
                                            </div>
                                            <div style="margin-bottom: 1rem;">
                                                <strong style="color: var(--warning-color);">Key Pain Points:</strong>
                                                <ul style="margin: 0.5rem 0; padding-left: 1rem;">
                                                    <li>Vendor consolidation pressure</li>
                                                    <li>"Pentest fatigue" from low-value reports</li>
                                                    <li>Perception management after findings</li>
                                                    <li>Budget constraints and justification</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="persona-card" onclick="togglePersonaCard(this, 'compliance')">
                                        <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">📋</div>
                                        <h4>Compliance Officer</h4>
                                        <p style="font-size: 0.875rem; color: var(--text-secondary); margin-top: 0.5rem;">
                                            Audit readiness and regulatory compliance evidence
                                        </p>
                                        <div id="compliance-content" style="display: none; margin-top: 1rem; font-size: 0.875rem; color: var(--text-secondary);">
                                            <div style="margin-bottom: 1rem;">
                                                <strong style="color: var(--primary-color);">Primary Motivations:</strong>
                                                <ul style="margin: 0.5rem 0; padding-left: 1rem;">
                                                    <li>Meeting regulatory mandates (PCI, GDPR, HIPAA)</li>
                                                    <li>Audit-ready documentation</li>
                                                    <li>Avoiding regulatory fines</li>
                                                    <li>Demonstrating due diligence</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="persona-card" onclick="togglePersonaCard(this, 'itdirector')">
                                        <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">💻</div>
                                        <h4>IT Director</h4>
                                        <p style="font-size: 0.875rem; color: var(--text-secondary); margin-top: 0.5rem;">
                                            Technical validation and actionable remediation guidance
                                        </p>
                                        <div id="itdirector-content" style="display: none; margin-top: 1rem; font-size: 0.875rem; color: var(--text-secondary);">
                                            <div style="margin-bottom: 1rem;">
                                                <strong style="color: var(--primary-color);">Primary Motivations:</strong>
                                                <ul style="margin: 0.5rem 0; padding-left: 1rem;">
                                                    <li>Technical validation of security controls</li>
                                                    <li>Clear, actionable remediation guidance</li>
                                                    <li>Vulnerability prioritization</li>
                                                    <li>Minimal operational disruption</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="persona-card" onclick="togglePersonaCard(this, 'cfo')">
                                        <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">💰</div>
                                        <h4>CFO / Business Leader</h4>
                                        <p style="font-size: 0.875rem; color: var(--text-secondary); margin-top: 0.5rem;">
                                            ROI quantification and financial risk management
                                        </p>
                                        <div id="cfo-content" style="display: none; margin-top: 1rem; font-size: 0.875rem; color: var(--text-secondary);">
                                            <div style="margin-bottom: 1rem;">
                                                <strong style="color: var(--primary-color);">Primary Motivations:</strong>
                                                <ul style="margin: 0.5rem 0; padding-left: 1rem;">
                                                    <li>Quantifying cyber risk in financial terms</li>
                                                    <li>Understanding security investment ROI</li>
                                                    <li>Business continuity protection</li>
                                                    <li>Cyber insurance optimization</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `
                    }
                ],
                quiz: [
                    {
                        question: "You're meeting with a CISO who mentions 'vendor consolidation pressure.' How do you position penetration testing?",
                        options: [
                            "As a standalone best-in-class solution",
                            "As part of your integrated security platform that reduces vendor sprawl",
                            "By criticizing their current vendors",
                            "By offering the lowest price"
                        ],
                        correct: 1,
                        explanation: "CISOs face pressure to reduce vendors. Position penetration testing as part of an integrated platform that simplifies their security stack."
                    },
                    {
                        question: "A Compliance Officer asks about GDPR requirements. What's the most compelling point?",
                        options: [
                            "GDPR doesn't specifically require penetration testing",
                            "You might get away without testing",
                            "Article 32 requires 'regular testing' of security measures, and BA was fined £20M",
                            "Focus on other compliance frameworks instead"
                        ],
                        correct: 2,
                        explanation: "While GDPR doesn't explicitly say 'penetration testing,' Article 32's requirement for regular testing is widely interpreted as including it. Real fines make this tangible."
                    },
                    {
                        question: "An IT Director is concerned about remediation complexity. What's your best approach?",
                        options: [
                            "Promise simple fixes for all vulnerabilities",
                            "Offer detailed remediation guidance with step-by-step instructions and post-test support",
                            "Suggest they hire consultants for remediation",
                            "Minimize the number of findings to reduce work"
                        ],
                        correct: 1,
                        explanation: "IT Directors need practical, actionable guidance. Offering detailed remediation steps and post-test support addresses their operational concerns directly."
                    },
                    {
                        question: "What's the primary concern for a CFO evaluating penetration testing?",
                        options: [
                            "Technical methodology details",
                            "Compliance framework alignment",
                            "ROI quantification and financial risk in measurable terms",
                            "Testing tool specifications"
                        ],
                        correct: 2,
                        explanation: "CFOs focus on financial impact. Lead with ROI calculations, cost avoidance metrics, and quantifiable risk reduction."
                    },
                    {
                        question: "A CISO mentions 'pentest fatigue' from previous low-value reports. How do you address this?",
                        options: [
                            "Criticize previous vendors",
                            "Promise fewer findings",
                            "Emphasize business risk reduction metrics and board-ready deliverables with actionable insights",
                            "Suggest less frequent testing"
                        ],
                        correct: 2,
                        explanation: "Address pentest fatigue by focusing on value: business-aligned risk metrics, executive-ready reporting, and actionable findings rather than vulnerability lists."
                    },
                    {
                        question: "Which discovery question works best for a Compliance Officer?",
                        options: [
                            "What's your security budget?",
                            "Which compliance frameworks are most critical, and when are your upcoming audit cycles?",
                            "Do you prefer black box or white box testing?",
                            "What tools does your IT team use?"
                        ],
                        correct: 1,
                        explanation: "Compliance Officers care about regulatory requirements and audit readiness. Understanding their frameworks and timelines helps position testing as compliance enablement."
                    },
                    {
                        question: "How should you position penetration testing to address vendor consolidation pressure?",
                        options: [
                            "As a completely separate service",
                            "By offering the lowest price",
                            "As part of an integrated security platform that reduces vendor sprawl",
                            "By avoiding the topic entirely"
                        ],
                        correct: 2,
                        explanation: "Many CISOs face pressure to reduce vendors. Position penetration testing as part of an integrated platform that simplifies their security stack while improving effectiveness."
                    },
                    {
                        question: "When speaking with a CFO, which metric resonates most?",
                        options: [
                            "Number of vulnerabilities found",
                            "Testing methodology details",
                            "Cyber insurance premium reduction of 15-25%",
                            "Technical severity scores"
                        ],
                        correct: 2,
                        explanation: "CFOs respond to financial metrics. Insurance premium reductions provide tangible, immediate financial benefits they can measure."
                    }
                ]
            },
            3: {
                title: 'Compliance Compass',
                sections: [
                    {
                        title: 'Navigate Compliance with Confidence',
                        content: `
                            <div style="max-width: 800px; margin: 0 auto; text-align: center;">
                                <h3 style="font-size: 2rem; color: var(--primary-color); margin-bottom: 1.5rem;">Turn Compliance into Urgency</h3>
                                <p style="font-size: 1.125rem; line-height: 1.8;">When you mention <strong>£17.5 million GDPR fines</strong> or <strong>PCI-DSS payment processing suspension</strong>, deals move faster.</p>
                                <p style="font-size: 1.125rem; line-height: 1.8; margin-bottom: 2rem;">Master the compliance frameworks that create immediate buying triggers.</p>
                                <div style="background-color: var(--bg-secondary); border-left: 4px solid var(--primary-color); padding: 1.5rem; margin: 2rem 0; display: flex; align-items: center; gap: 1rem; border-radius: 8px;">
                                    <div style="font-size: 2rem;">⚖️</div>
                                    <div style="text-align: left;">
                                        <strong>Your Goal:</strong> Position penetration testing as essential compliance insurance, not optional security enhancement.
                                    </div>
                                </div>
                            </div>
                        `
                    }
                ],
                quiz: [
                    {
                        question: "A retail client processes credit cards. They say 'We passed our last PCI audit without penetration testing.' Your response?",
                        options: [
                            "That's great, you don't need testing then",
                            "PCI-DSS v4.0 is mandatory from March 2025 and expands requirements - you'll fail without testing",
                            "You should do it anyway for best practice",
                            "Let's focus on other compliance frameworks"
                        ],
                        correct: 1,
                        explanation: "PCI-DSS v4.0 significantly expands requirements. Emphasize the mandatory nature and upcoming deadline to create urgency."
                    },
                    {
                        question: "Which framework explicitly requires penetration testing under Requirement 11.3?",
                        options: [
                            "GDPR",
                            "ISO 27001",
                            "PCI-DSS",
                            "SOX"
                        ],
                        correct: 2,
                        explanation: "PCI-DSS explicitly mandates penetration testing under Requirement 11.3, with annual testing required plus testing after significant changes."
                    },
                    {
                        question: "What's the maximum GDPR fine for non-compliance?",
                        options: [
                            "€5 million or 2% of global turnover",
                            "€10 million or 3% of global turnover",
                            "€20 million or 4% of global turnover",
                            "€30 million or 5% of global turnover"
                        ],
                        correct: 2,
                        explanation: "GDPR fines can reach up to €20 million or 4% of global annual turnover, whichever is higher - making compliance critical for any organization handling EU data."
                    },
                    {
                        question: "A SOC 2 auditor asks about penetration testing. What's the key point to emphasize?",
                        options: [
                            "It's not explicitly required",
                            "Security principle CC4.1 specifically mentions penetration testing as part of monitoring activities",
                            "Only Type 1 reports need testing",
                            "Annual testing is sufficient"
                        ],
                        correct: 1,
                        explanation: "While not mandatory, SOC 2's Security principle CC4.1 specifically mentions penetration testing. Auditors expect it, and absence can lead to qualified reports."
                    },
                    {
                        question: "ISO 27001 controls A.8.7 and A.8.29 require what?",
                        options: [
                            "Annual vulnerability scanning only",
                            "Technical vulnerability management and security testing in development",
                            "Quarterly penetration testing",
                            "External testing only"
                        ],
                        correct: 1,
                        explanation: "ISO 27001 controls A.8.7 (Technical vulnerability management) and A.8.29 (Security testing in development and acceptance) strongly support penetration testing requirements."
                    },
                    {
                        question: "What significant change occurs with PCI-DSS v4.0 in March 2025?",
                        options: [
                            "Penetration testing becomes optional",
                            "Only external testing is required",
                            "Must remediate all 'security weaknesses,' not just exploitable vulnerabilities",
                            "Testing frequency reduces to biannual"
                        ],
                        correct: 2,
                        explanation: "PCI-DSS v4.0 significantly expands requirements by mandating remediation of all 'security weaknesses,' not just exploitable vulnerabilities, broadening the remediation scope."
                    },
                    {
                        question: "A client asks about SOC 2 Type 1 vs Type 2 testing requirements. What's the key difference?",
                        options: [
                            "Type 1 doesn't need any testing",
                            "Type 2 requires evidence of testing over the audit period, not just at a point in time",
                            "Both have identical requirements",
                            "Only Type 1 requires penetration testing"
                        ],
                        correct: 1,
                        explanation: "SOC 2 Type 2 requires demonstrating controls effectiveness over time, making regular penetration testing essential for maintaining compliance."
                    },
                    {
                        question: "Which compliance framework has the shortest mandatory testing cycle?",
                        options: [
                            "GDPR - Annual",
                            "ISO 27001 - Risk-based",
                            "PCI-DSS service provider segmentation - Every six months",
                            "HIPAA - Annual"
                        ],
                        correct: 2,
                        explanation: "PCI-DSS requires service providers to test segmentation controls every six months, the most frequent mandatory requirement."
                    }
                ]
            },
            4: {
                title: 'Technical Translator',
                sections: [
                    {
                        title: 'From Technical Jargon to Business Impact',
                        content: `
                            <div style="max-width: 800px; margin: 0 auto; text-align: center;">
                                <h3 style="font-size: 2rem; color: var(--primary-color); margin-bottom: 1.5rem;">From Technical Jargon to Business Impact</h3>
                                <p style="font-size: 1.125rem; line-height: 1.8;">Your prospect doesn't care about <strong>CVSS scores</strong>. They care about <strong>customer data theft</strong>.</p>
                                <p style="font-size: 1.125rem; line-height: 1.8; margin-bottom: 2rem;">Master the art of translating technical vulnerabilities into business consequences that motivate action.</p>
                                <div style="background-color: var(--bg-secondary); border-left: 4px solid var(--primary-color); padding: 1.5rem; margin: 2rem 0; display: flex; align-items: center; gap: 1rem; border-radius: 8px;">
                                    <div style="font-size: 2rem;">🔄</div>
                                    <div style="text-align: left;">
                                        <strong>Your Goal:</strong> Make technical concepts accessible and actionable for non-technical buyers.
                                    </div>
                                </div>
                            </div>
                        `
                    }
                ],
                quiz: [
                    {
                        question: "A non-technical CEO asks: 'What's the difference between vulnerability scanning and penetration testing?' Your response?",
                        options: [
                            "Scanning uses automated tools while testing is manual",
                            "Scanning is like listing all unlocked doors; testing actually tries to break in and shows what could be stolen",
                            "They're basically the same thing",
                            "Penetration testing is more expensive"
                        ],
                        correct: 1,
                        explanation: "Use analogies that business leaders understand. The unlocked door vs. actual break-in analogy clearly shows the value difference."
                    },
                    {
                        question: "What percentage of applications contain broken access control vulnerabilities?",
                        options: [
                            "45%",
                            "67%",
                            "82%",
                            "94%"
                        ],
                        correct: 3,
                        explanation: "94% of tested applications contain broken access control vulnerabilities (OWASP A01:2021), making it the most prevalent and high-impact finding category."
                    },
                    {
                        question: "How do you explain SQL injection to a non-technical executive?",
                        options: [
                            "It's a database vulnerability with CVSS score 8.0-9.3",
                            "Attackers inject malicious SQL code into input fields",
                            "It could allow criminals to steal your entire customer database, including credit cards and personal data",
                            "It's an OWASP Top 10 vulnerability"
                        ],
                        correct: 2,
                        explanation: "Focus on business impact, not technical details. SQL injection means potential theft of all customer data - that's what executives need to understand."
                    },
                    {
                        question: "What's the business impact of security misconfiguration vulnerabilities?",
                        options: [
                            "Minor performance issues",
                            "Potential compliance violations",
                            "Average breach costs of $4.24 million, like publicly accessible cloud storage",
                            "Only affects development environments"
                        ],
                        correct: 2,
                        explanation: "Security misconfigurations, especially cloud-related, lead to breaches costing an average of $4.24 million. Real examples like exposed S3 buckets make this tangible."
                    },
                    {
                        question: "How should you explain the difference between black box and gray box testing?",
                        options: [
                            "Black box is cheaper than gray box",
                            "Gray box is only for internal testing",
                            "Black box simulates an external attacker with no knowledge; gray box assumes some insider knowledge or initial compromise",
                            "They're essentially the same approach"
                        ],
                        correct: 2,
                        explanation: "Use clear scenarios: black box = complete outsider attack, gray box = attacker with stolen credentials or insider knowledge. 66% of organizations prefer gray box for its balance."
                    },
                    {
                        question: "How do you explain API vulnerabilities to a retail executive?",
                        options: [
                            "APIs have technical flaws in their code",
                            "Your mobile app and website could expose customer payment data and personal information",
                            "The API lacks proper authentication mechanisms",
                            "There are issues with RESTful service implementation"
                        ],
                        correct: 1,
                        explanation: "Retail executives care about customer data and payment security. Frame API vulnerabilities in terms of customer impact and PCI compliance."
                    },
                    {
                        question: "A board member asks about 'zero-day vulnerabilities.' Your explanation?",
                        options: [
                            "They have a CVSS score of 10",
                            "They're unknown flaws that criminals discover before vendors, leaving you defenseless until patched",
                            "They're vulnerabilities found on day zero of testing",
                            "They only affect outdated systems"
                        ],
                        correct: 1,
                        explanation: "Board members need to understand business risk. Zero-days represent unknown threats that bypass all defenses, creating unmitigated risk."
                    },
                    {
                        question: "What testing approach do 66% of organizations prefer and why?",
                        options: [
                            "Black box - most realistic",
                            "White box - most comprehensive",
                            "Gray box - balances realism with efficiency and cost-effectiveness",
                            "Red team - most aggressive"
                        ],
                        correct: 2,
                        explanation: "Gray box testing provides the optimal balance, simulating realistic attack scenarios while eliminating time-consuming reconnaissance phases."
                    }
                ]
            },
            5: {
                title: 'Objection Eliminator',
                sections: [
                    {
                        title: 'Turn Objections into Opportunities',
                        content: `
                            <div style="max-width: 800px; margin: 0 auto; text-align: center;">
                                <h3 style="font-size: 2rem; color: var(--primary-color); margin-bottom: 1.5rem;">From "No" to "When Can We Start?"</h3>
                                <p style="font-size: 1.125rem; line-height: 1.8;">Every objection is a request for more information. Master the responses that turn <strong>skeptics into champions</strong>.</p>
                                <p style="font-size: 1.125rem; line-height: 1.8; margin-bottom: 2rem;">The top 6 objections kill 80% of deals. After this module, they'll accelerate yours.</p>
                                <div style="background-color: var(--bg-secondary); border-left: 4px solid var(--primary-color); padding: 1.5rem; margin: 2rem 0; display: flex; align-items: center; gap: 1rem; border-radius: 8px;">
                                    <div style="font-size: 2rem;">🛡️</div>
                                    <div style="text-align: left;">
                                        <strong>Your Goal:</strong> Welcome objections as opportunities to demonstrate value and build trust.
                                    </div>
                                </div>
                            </div>
                        `
                    }
                ],
                quiz: [
                    {
                        question: "A prospect says 'We had a bad experience - lots of false positives and a useless report.' What's your response?",
                        options: [
                            "Our reports are much better than that",
                            "I'm sorry you had that experience. What specific issues made it useless? We use multiple validation methods to eliminate false positives and provide actionable remediation guidance, not just problem lists.",
                            "That vendor must have been incompetent",
                            "Penetration testing has improved a lot recently"
                        ],
                        correct: 1,
                        explanation: "Acknowledge their experience, ask for specifics, then differentiate with concrete examples of how you solve those problems."
                    },
                    {
                        question: "A prospect says 'We already do vulnerability scanning quarterly.' Your response?",
                        options: [
                            "That's sufficient for most organizations",
                            "You should scan monthly instead",
                            "Scanning identifies potential issues; penetration testing proves which ones attackers can actually exploit to steal data",
                            "Vulnerability scanning is outdated"
                        ],
                        correct: 2,
                        explanation: "Acknowledge their current efforts while showing the gap: scanners find 100-200 issues, but testing identifies the 10-15 that are actually exploitable and business-critical."
                    },
                    {
                        question: "What percentage of penetration tests operate without any business impact?",
                        options: [
                            "75%",
                            "85%",
                            "90%",
                            "95%"
                        ],
                        correct: 3,
                        explanation: "95% of penetration tests have zero business impact. This statistic directly addresses disruption concerns with hard data."
                    },
                    {
                        question: "'We don't have budget until next fiscal year.' How do you create urgency?",
                        options: [
                            "Offer a discount if they sign now",
                            "Tell them they'll probably be fine waiting",
                            "Share that attackers exploit vulnerabilities in 5 days now, and 74% of large UK businesses were breached last year - what's the cost of waiting?",
                            "Suggest they reduce scope to fit current budget"
                        ],
                        correct: 2,
                        explanation: "Create urgency with specific risk data. The compressed exploitation timeline and breach statistics make 'waiting' a quantifiable business risk."
                    },
                    {
                        question: "How do you handle 'Our IT team doesn't have time for this'?",
                        options: [
                            "Suggest they make time",
                            "Offer to do everything without IT involvement",
                            "Show minimal time commitment: 30-min scoping, 1-hour kickoff, independent testing, 2-hour results - under 4 hours total",
                            "Recommend hiring additional IT staff"
                        ],
                        correct: 2,
                        explanation: "Address time concerns with specific numbers. Less than 4 hours of IT time over 2-3 weeks makes it manageable even for busy teams."
                    },
                    {
                        question: "A prospect says 'Security isn't a priority - we're focused on growth.' Your response?",
                        options: [
                            "Growth is more important than security",
                            "You should prioritize security over growth",
                            "Strong security enables confident growth - customers increasingly require security validation before signing contracts",
                            "Wait until after your growth phase"
                        ],
                        correct: 2,
                        explanation: "Reframe security as a growth enabler, not inhibitor. Security-mature companies grow 2.4x faster and win more enterprise contracts."
                    },
                    {
                        question: "What's the most effective way to handle 'We've never been breached'?",
                        options: [
                            "You've been lucky so far",
                            "Most breaches go undetected",
                            "That's like saying 'I've never had a fire, so I don't need insurance' - one breach costs £4.53M on average",
                            "Small companies don't get breached"
                        ],
                        correct: 2,
                        explanation: "Use the insurance analogy to reframe their thinking. Past performance doesn't predict future security, but the financial impact is predictable and devastating."
                    },
                    {
                        question: "'It's too expensive.' What's your primary ROI argument?",
                        options: [
                            "Security is priceless",
                            "We can offer payment plans",
                            "A £50k test preventing one £4.88M breach provides 9,660% ROI - even at 10% breach probability, the math works",
                            "Our competitors charge more"
                        ],
                        correct: 2,
                        explanation: "Lead with concrete ROI calculations. The 9,660% return makes the financial case obvious, and even conservative probability estimates support investment."
                    },
                    {
                        question: "A prospect says 'We'll just fix issues as they come up.' Your response?",
                        options: [
                            "That's a valid approach",
                            "You should be more proactive",
                            "Fixing vulnerabilities costs £500 proactively vs £500,000+ after a breach - which budget would you prefer to use?",
                            "Most companies take that approach"
                        ],
                        correct: 2,
                        explanation: "Use the 1,000x cost differential to show the financial impact of reactive vs proactive security. Make it a budget decision, not a security lecture."
                    },
                    {
                        question: "'We trust our developers to write secure code.' How do you respond?",
                        options: [
                            "Developers often make security mistakes",
                            "You shouldn't trust your developers",
                            "Even the best developers can't think like attackers - 94% of apps have vulnerabilities. Testing validates their good work.",
                            "You need security training for developers"
                        ],
                        correct: 2,
                        explanation: "Don't attack their team. Position testing as validation and support for developers, using data to show that vulnerabilities are universal, not a sign of poor development."
                    }
                ]
            },
            6: {
                title: 'Course Summary',
                sections: [
                    {
                        title: 'Congratulations! You\'ve Mastered Penetration Testing Sales',
                        content: `
                            <div style="max-width: 800px; margin: 0 auto; text-align: center;">
                                <h3 style="font-size: 2rem; color: var(--primary-color); margin-bottom: 1.5rem;">🎉 Course Complete!</h3>
                                <p style="font-size: 1.125rem; line-height: 1.8;">You've now mastered the five essential pillars of penetration testing sales success.</p>
                                <p style="font-size: 1.125rem; line-height: 1.8; margin-bottom: 2rem;">From turning £4.88M breach statistics into compelling business cases to confidently handling every objection.</p>
                                <div style="background-color: var(--bg-secondary); border-left: 4px solid var(--success-color); padding: 1.5rem; margin: 2rem 0; display: flex; align-items: center; gap: 1rem; border-radius: 8px;">
                                    <div style="font-size: 2rem;">🏆</div>
                                    <div style="text-align: left;">
                                        <strong>You're now equipped to:</strong> Turn every penetration testing conversation into a revenue opportunity.
                                    </div>
                                </div>
                            </div>
                        `
                    },
                    {
                        title: 'Your Sales Mastery Toolkit',
                        content: `
                            <div style="max-width: 1000px; margin: 0 auto;">
                                <h3 style="text-align: center; margin-bottom: 2rem; color: var(--primary-color);">🎯 What You've Mastered</h3>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
                                    <div style="background-color: var(--bg-secondary); padding: 1.5rem; border-radius: 12px; border-left: 4px solid var(--primary-color);">
                                        <div style="font-size: 2rem; margin-bottom: 1rem;">💰</div>
                                        <h4 style="margin-bottom: 1rem;">Business Value Articulation</h4>
                                        <ul style="list-style: none; padding: 0; font-size: 0.875rem; color: var(--text-secondary);">
                                            <li>✓ R.I.S.K.+ framework mastery</li>
                                            <li>✓ 9,660% ROI calculations</li>
                                            <li>✓ £4.53M breach cost positioning</li>
                                            <li>✓ Compliance urgency creation</li>
                                        </ul>
                                    </div>
                                    
                                    <div style="background-color: var(--bg-secondary); padding: 1.5rem; border-radius: 12px; border-left: 4px solid var(--success-color);">
                                        <div style="font-size: 2rem; margin-bottom: 1rem;">👥</div>
                                        <h4 style="margin-bottom: 1rem;">Buyer Persona Navigation</h4>
                                        <ul style="list-style: none; padding: 0; font-size: 0.875rem; color: var(--text-secondary);">
                                            <li>✓ CISO governance messaging</li>
                                            <li>✓ CFO financial impact focus</li>
                                            <li>✓ Compliance audit readiness</li>
                                            <li>✓ IT Director technical validation</li>
                                        </ul>
                                    </div>
                                    
                                    <div style="background-color: var(--bg-secondary); padding: 1.5rem; border-radius: 12px; border-left: 4px solid var(--warning-color);">
                                        <div style="font-size: 2rem; margin-bottom: 1rem;">📋</div>
                                        <h4 style="margin-bottom: 1rem;">Compliance Expertise</h4>
                                        <ul style="list-style: none; padding: 0; font-size: 0.875rem; color: var(--text-secondary);">
                                            <li>✓ PCI-DSS 11.3 requirements</li>
                                            <li>✓ GDPR £17.5M fine positioning</li>
                                            <li>✓ HIPAA 2025 changes</li>
                                            <li>✓ SOC 2 audit expectations</li>
                                        </ul>
                                    </div>
                                    
                                    <div style="background-color: var(--bg-secondary); padding: 1.5rem; border-radius: 12px; border-left: 4px solid var(--accent-color);">
                                        <div style="font-size: 2rem; margin-bottom: 1rem;">🔍</div>
                                        <h4 style="margin-bottom: 1rem;">Technical Translation</h4>
                                        <ul style="list-style: none; padding: 0; font-size: 0.875rem; color: var(--text-secondary);">
                                            <li>✓ OWASP Top 10 business impact</li>
                                            <li>✓ Testing vs scanning differentiation</li>
                                            <li>✓ 94% vulnerability prevalence</li>
                                            <li>✓ Executive-friendly explanations</li>
                                        </ul>
                                    </div>
                                    
                                    <div style="background-color: var(--bg-secondary); padding: 1.5rem; border-radius: 12px; border-left: 4px solid #9333ea;">
                                        <div style="font-size: 2rem; margin-bottom: 1rem;">🛡️</div>
                                        <h4 style="margin-bottom: 1rem;">Objection Mastery</h4>
                                        <ul style="list-style: none; padding: 0; font-size: 0.875rem; color: var(--text-secondary);">
                                            <li>✓ A.C.E. framework application</li>
                                            <li>✓ 95% non-disruptive positioning</li>
                                            <li>✓ Bad experience recovery</li>
                                            <li>✓ Urgency creation techniques</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        `
                    },
                ],
                quiz: [] // No quiz for summary module
            }
        };

        function loadModuleContent(moduleId) {
            const contentArea = document.getElementById('moduleContentArea');
            const module = moduleData[moduleId];
            
            if (!module) {
                contentArea.innerHTML = `
                    <div style="text-align: center; padding: 4rem 0;">
                        <p>Module content not yet implemented.</p>
                    </div>
                `;
                return;
            }
            
            // Check if we're in quiz mode
            if (appState.quizMode) {
                loadQuizContent(module.quiz);
            } else {
                // Load regular section content
                const section = module.sections[appState.currentSection];
                if (section) {
                    contentArea.innerHTML = `
                        <h3>${section.title}</h3>
                        ${section.content}
                    `;
                } else {
                    // Fallback if section doesn't exist
                    contentArea.innerHTML = `
                        <div style="text-align: center; padding: 4rem 0;">
                            <p>Section not found. Please try again.</p>
                        </div>
                    `;
                }
            }
            
            updateNavigationButtons();
        }

        function loadQuizContent(questions) {
            if (!questions || questions.length === 0) {
                // No quiz - just show completion
                const contentArea = document.getElementById('moduleContentArea');
                contentArea.innerHTML = `
                    <div style="text-align: center; padding: 2rem;">
                        <h3>Module Complete!</h3>
                        <p style="margin: 1rem 0;">This module doesn't have a quiz. Click "Complete Module" to finish.</p>
                        <div style="width: 200px; height: 200px; border-radius: 50%; background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%); display: flex; flex-direction: column; align-items: center; justify-content: center; margin: 2rem auto; color: white; box-shadow: var(--shadow-hover);">
                            <div style="font-size: 3rem;">✓</div>
                            <div style="font-size: 0.875rem; opacity: 0.9;">Ready to continue!</div>
                        </div>
                    </div>
                `;
                return;
            }

            const contentArea = document.getElementById('moduleContentArea');
            
            if (appState.currentQuizIndex >= questions.length) {
                // Show quiz results
                const percentage = Math.round((appState.quizScore / questions.length) * 100);
                appState.modules[appState.currentModule].score = percentage;
                
                contentArea.innerHTML = `
                    <div style="text-align: center; padding: 2rem 0;">
                        <h3>Assessment Complete!</h3>
                        <div style="width: 200px; height: 200px; border-radius: 50%; background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%); display: flex; flex-direction: column; align-items: center; justify-content: center; margin: 2rem auto; color: white; box-shadow: var(--shadow-hover);">
                            <div style="font-size: 3rem; font-weight: 700;">${percentage}%</div>
                            <div style="font-size: 0.875rem; opacity: 0.9;">${appState.quizScore} of ${questions.length} correct</div>
                        </div>
                        ${percentage === 100 ? '<p style="color: var(--success-color); font-weight: 500; font-size: 1.125rem;">🎉 Perfect score! You\'ve mastered this content!</p>' : 
                          percentage >= 70 ? '<p style="color: var(--success-color); font-weight: 500; font-size: 1.125rem;">✅ Great job! You\'re ready to move on.</p>' :
                          '<p style="color: var(--warning-color); font-weight: 500; font-size: 1.125rem;">Keep practicing! Review the content and try again.</p>'}
                    </div>
                `;
                
                // Check for achievements
                if (percentage === 100) {
                    unlockAchievement('Perfect Score', 'Achieved 100% on a module assessment!');
                }
                return;
            }

            const question = questions[appState.currentQuizIndex];
            const progress = ((appState.currentQuizIndex) / questions.length) * 100;

            contentArea.innerHTML = `
                <div style="max-width: 800px; margin: 0 auto;">
                    <h3>Quick Assessment</h3>
                    <div class="quiz-progress-container">
                        <div class="quiz-progress" style="width: ${progress}%;"></div>
                    </div>
                    <p style="text-align: center; color: var(--text-secondary); font-size: 0.875rem;">Question ${appState.currentQuizIndex + 1} of ${questions.length}</p>
                    
                    <div style="background-color: var(--bg-secondary); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0;">
                        <h4>${question.question}</h4>
                    </div>
                    
                    <div id="quizOptions">
                        ${question.options.map((option, index) => `
                            <div class="quiz-option" onclick="selectQuizAnswer(${index}, ${question.correct === index}, '${question.explanation.replace(/'/g, "\\'")}')">
                                <span style="margin-right: 1rem; font-weight: bold;">${String.fromCharCode(65 + index)}</span>
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                    
                    <div id="quizFeedback" style="display: none; background-color: var(--bg-secondary); border-radius: 8px; padding: 1.5rem; margin-top: 1.5rem; border-left: 4px solid var(--primary-color);">
                        <p id="feedbackText"></p>
                        <button class="btn btn-primary" style="margin-top: 1rem;" onclick="nextQuizQuestion()">
                            ${appState.currentQuizIndex + 1 >= questions.length ? 'Complete Quiz' : 'Next Question'} →
                        </button>
                    </div>
                </div>
            `;
        }

        function selectQuizAnswer(index, isCorrect, explanation) {
            // Disable all options
            document.querySelectorAll('.quiz-option').forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Mark selected answer
            const selectedOption = document.querySelectorAll('.quiz-option')[index];
            const questions = moduleData[appState.currentModule].quiz;
            const currentQ = questions[appState.currentQuizIndex];
            
            if (isCorrect) {
                selectedOption.classList.add('correct');
                appState.quizScore++;
            } else {
                selectedOption.classList.add('incorrect');
                // Show correct answer
                const correctOption = document.querySelectorAll('.quiz-option')[currentQ.correct];
                if (correctOption) correctOption.classList.add('correct');
            }
            
            // Show feedback
            const feedback = document.getElementById('quizFeedback');
            const feedbackText = document.getElementById('feedbackText');
            if (feedback && feedbackText) {
                feedbackText.innerHTML = `
                    <strong>${isCorrect ? '✅ Correct!' : '❌ Not quite.'}</strong><br>
                    ${explanation}
                `;
                feedback.style.display = 'block';
            }
        }

        function nextQuizQuestion() {
            appState.currentQuizIndex++;
            const questions = moduleData[appState.currentModule].quiz;
            
            if (appState.currentQuizIndex >= questions.length) {
                // Quiz complete, show results
                loadQuizContent(questions);
            } else {
                // Load next question
                loadQuizContent(questions);
            }
        }

        function toggleDriverCard(element, driverId) {
            const content = document.getElementById(driverId + '-content');
            if (!content) return;
            
            const isOpen = content.style.display === 'block';
            
            // Close all other cards
            const parent = element.parentElement;
            if (parent) {
                parent.querySelectorAll('[id$="-content"]').forEach(el => {
                    el.style.display = 'none';
                });
                parent.querySelectorAll('.driver-card').forEach(el => {
                    el.classList.remove('active');
                });
            }
            
            // Toggle this card
            if (!isOpen) {
                content.style.display = 'block';
                element.classList.add('active');
            }
        }

        function togglePersonaCard(element, personaId) {
            const content = document.getElementById(personaId + '-content');
            if (!content) return;
            
            const isOpen = content.style.display === 'block';
            
            // Close all other persona cards
            const parent = element.parentElement;
            if (parent) {
                parent.querySelectorAll('[id$="-content"]').forEach(el => {
                    el.style.display = 'none';
                });
                parent.querySelectorAll('.persona-card').forEach(el => {
                    el.classList.remove('active');
                });
            }
            
            // Toggle this card
            if (!isOpen) {
                content.style.display = 'block';
                element.classList.add('active');
            }
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const module = moduleData[appState.currentModule];
            
            if (!module) return;
            
            // Previous button
            if (prevBtn) {
                if (appState.quizMode) {
                    prevBtn.style.display = 'flex';
                    prevBtn.onclick = () => {
                        appState.quizMode = false;
                        appState.currentSection = module.sections.length - 1;
                        loadModuleContent(appState.currentModule);
                    };
                } else {
                    prevBtn.style.display = appState.currentSection === 0 ? 'none' : 'flex';
                    prevBtn.onclick = previousSection;
                }
            }
            
            // Next button
            if (nextBtn) {
                nextBtn.style.display = 'flex';
                
                if (appState.quizMode) {
                    if (appState.currentQuizIndex >= (module.quiz ? module.quiz.length : 0)) {
                        nextBtn.innerHTML = 'Complete Module <span>✓</span>';
                        nextBtn.onclick = completeModule;
                    } else {
                        nextBtn.style.display = 'none'; // Hide during quiz questions
                    }
                } else {
                    if (appState.currentSection === module.sections.length - 1) {
                        // Last section, go to quiz or complete
                        if (module.quiz && module.quiz.length > 0) {
                            nextBtn.innerHTML = 'Take Quiz <span>→</span>';
                            nextBtn.onclick = startQuiz;
                        } else {
                            nextBtn.innerHTML = 'Complete Module <span>✓</span>';
                            nextBtn.onclick = completeModule;
                        }
                    } else {
                        nextBtn.innerHTML = 'Next <span>→</span>';
                        nextBtn.onclick = nextSection;
                    }
                }
            }
        }

        function startQuiz() {
            appState.quizMode = true;
            appState.currentQuizIndex = 0;
            appState.quizScore = 0;
            loadModuleContent(appState.currentModule);
        }

        function previousSection() {
            if (appState.currentSection > 0) {
                appState.currentSection--;
                loadModuleContent(appState.currentModule);
            }
        }

        function nextSection() {
            const module = moduleData[appState.currentModule];
            if (appState.currentSection < module.sections.length - 1) {
                appState.currentSection++;
                loadModuleContent(appState.currentModule);
            }
        }

        function completeModule() {
            // Mark module as completed
            if (appState.currentModule) {
                appState.modules[appState.currentModule].completed = true;
            }
            
            // Check for course completion
            const completedCount = Object.values(appState.modules).filter(m => m.completed).length;
            if (completedCount === 6) {
                unlockAchievement('Course Complete', 'Completed all 6 modules!');
            }
            
            // Check for achievements
            if (appState.modules[appState.currentModule].score === 100) {
                unlockAchievement('Perfect Score', 'Achieved 100% on module assessment!');
            }
            
            if (appState.modules[appState.currentModule].time < 300) { // Under 5 minutes
                unlockAchievement('Speed Learner', 'Completed module in under 5 minutes!');
            }
            
            // Save and close
            saveState();
            closeModule();
        }

        // Achievement system
        function unlockAchievement(title, description) {
            const popup = document.getElementById('achievementPopup');
            const titleEl = document.getElementById('achievementTitle');
            const descEl = document.getElementById('achievementDescription');
            
            if (titleEl) titleEl.textContent = title;
            if (descEl) descEl.textContent = description;
            
            if (popup) {
                popup.classList.add('show');
                setTimeout(() => {
                    popup.classList.remove('show');
                }, 3000);
            }
            
            // Add to badges if not already earned
            if (!appState.badges.includes(title)) {
                appState.badges.push(title);
                saveState();
                updateUI();
            }
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', () => {
            loadState();
        });

        // Save state before page unload
        window.addEventListener('beforeunload', () => {
            if (appState.currentModule) {
                stopTimer();
            }
        });
    </script>
</body>
</html>
                